<script>
const logEl = document.getElementById('log');
function log(...a){
  console.log(...a);
  logEl.textContent += a.join(' ') + '\n';
}

(async()=>{
  const modelUrl = 'https://cdn.jsdelivr.net/gh/ultralytics/assets@v0.0.0/yolov8n.onnx';

  ort.env.wasm.wasmPaths = 'https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/';
  ort.env.wasm.simd = false;      // <<< BLOCCO SIMD
  ort.env.wasm.numThreads = 1;    // <<< BLOCCO MULTI THREAD

  try{
    log("Avvio backend WASM compatibile Android...");
    const session = await ort.InferenceSession.create(modelUrl,{executionProviders:['wasm']});
    log("SESSIONE OK");
    alert("MODELLO YOLOv8 CARICATO SU ANDROID âœ”");
  }catch(e){
    log("ERRORE:",e);
    alert("ERRORE ANDROID: " + e);
  }
})();
</script>
